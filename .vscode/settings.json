// https://code.visualstudio.com/docs/getstarted/settings#_default-settings
// https://devblogs.microsoft.com/powershell/psscriptanalyzer-pssa-1-19-0-has-been-released/
{
	// files
	"files.encoding": "utf8",
	"files.trimTrailingWhitespace": true,
	"files.trimFinalNewlines": true,
	"files.insertFinalNewline": true,
	"files.associations": {
		"*config": "ruby",
		"*.config": "ruby"
	},
	// editor
	"editor.quickSuggestions": {
		"other": true,
		"comments": false,
		"strings": false
	},
	"editor.rulers": [
		100,
		120
	],
	"workbench.colorCustomizations": {
		"editorRuler.foreground": "#4063ff",
		"tab.activeBorder": "#ff0000"
	},
	"editor.formatOnPaste": true,
	"editor.formatOnSave": true,
	"editor.formatOnType": true,
	"editor.autoIndent": "full",
	"editor.wordWrap": "off",
	"editor.trimAutoWhitespace": true,
	"editor.insertSpaces": false,
	// NOTE: Work around ugly syntax highlighting:
	// https://github.com/PowerShell/vscode-powershell/issues/3221
	"editor.semanticHighlighting.enabled": false,
	// "editor.codeActionsOnSave": {
	// TODO: need to verify if useful
	// 	"source.fixAll.markdownlint": true
	// },
	// PSUseConsistentIndentation
	"editor.detectIndentation": false,
	"editor.tabSize": 4,
	// diffeditor
	"diffEditor.ignoreTrimWhitespace": false,
	// PowerShell updates
	"powershell.pester.useLegacyCodeLens": false,
	"powershell.promptToUpdatePowerShell": true,
	// PowerShell: script analysis
	"powershell.scriptAnalysis.enable": true,
	"powershell.scriptAnalysis.settingsPath": "Config\\PSScriptAnalyzerSettings.psd1",
	// PowerShell: code formatting
	"powershell.codeFormatting.preset": "Allman",
	// PSPlaceOpenBrace
	"powershell.codeFormatting.openBraceOnSameLine": false,
	"powershell.codeFormatting.newLineAfterOpenBrace": true,
	"powershell.codeFormatting.ignoreOneLineBlock": true,
	// PSPlaceCloseBrace
	"powershell.codeFormatting.newLineAfterCloseBrace": true,
	// PSUseConsistentWhitespace
	"powershell.codeFormatting.whitespaceInsideBrace": true,
	"powershell.codeFormatting.whitespaceBeforeOpenBrace": true,
	"powershell.codeFormatting.whitespaceBeforeOpenParen": true,
	"powershell.codeFormatting.whitespaceAroundOperator": true,
	"powershell.codeFormatting.addWhitespaceAroundPipe": true,
	"powershell.codeFormatting.whitespaceAfterSeparator": true,
	"powershell.codeFormatting.trimWhitespaceAroundPipe": true,
	"powershell.codeFormatting.whitespaceBetweenParameters": true,
	// PSUseConsistentIndentation
	"powershell.codeFormatting.pipelineIndentationStyle": "NoIndentation",
	// PSAlignAssignmentStatement
	"powershell.codeFormatting.alignPropertyValuePairs": false,
	// PSUseCorrectCasing
	"powershell.codeFormatting.useCorrectCasing": true,
	// PSProvideCommentHelp
	"powershell.helpCompletion": "BlockComment",
	// NOTE: This config isn't recognized in cspell.json
	// File types for language ID's are defined in cspell.json
	"cSpell.enableFiletypes": [
		"ignore",
		"jsonc",
		"json",
		"properties", // gitattributes
		"log",
		// If "csv (semicolon)" is flagged it's false falg see:
		// https://github.com/streetsidesoftware/vscode-spell-checker/discussions/2346
		"csv (semicolon)", // exported rules
		"ini" // mTail configuration
	],
	// extension Todo Tree
	"todo-tree.tree.showScanModeButton": true,
	// NOTE: For markdown settings https://github.com/Gruntfuggly/todo-tree#markdown-support
	// NOTE: The default regex will be updated to reflect these changes at some point in the future.
	"todo-tree.regex.regex": "(//|#|<!--|;|/\\*|^|^\\s*(-|\\d+.))\\s*($TAGS)",
	"todo-tree.general.tags": [
		"HACK",
		"TODO",
		"NOTE",
		"MSDN",
		"ALERT",
		"BUG",
		"[ ]",
		"[x]"
	],
	"todo-tree.highlights.customHighlight": {
		// Very important and hard to resolve
		"HACK": {
			// used to set a different icon in the tree view
			// consider: info, bookmark, markdown, alert, bug, question, mark-github,
			// issue-opened, check-circle, checklist, report, beaker
			// icons and names: https://primer.style/octicons/
			"icon": "alert",
			// used to control how much is highlighted in the editor. Valid values are:
			// tag - highlights just the tag
			// text - highlights the tag and any text after the tag
			// tag-and-comment - highlights the comment characters (or the start of the match) and the tag
			// text-and-comment - highlights the comment characters (or the start of the match), the tag and the text after the tag
			// line - highlights the entire line containing the tag
			// whole-line - highlights the entire line containing the tag to the full width of the editor
			"type": "tag",
			// used to set the foreground colour of the highlight in the editor and the marker in the ruler
			// Foreground and background can be: "red", "green", "blue", "yellow", "magenta", "cyan", "grey", "white" or "black"
			// See also: https://en.wikipedia.org/wiki/Web_colors
			"foreground": "#ffffff",
			// used to set the background colour of the highlight in the editor.
			"background": "#ff0000",
			// 100% will produce an opaque background
			"opacity": 70,
			// used to set the colour of the icon in the tree
			"iconColour": "#ff0000",
			// used to hide tags from the tree, but still highlight in files
			// "hideFromTree ": false,
			// set to true to show the icon in the editor gutter
			// "gutterIcon": true,
			// prevents the tag from being included in the status bar counts
			// "hideFromStatusBar": false
		},
		// Needs additional work
		"TODO": {
			"icon": "check-circle",
			"foreground": "#000000",
			"background": "#ffffff",
			"iconColour": "#228B22", // ForestGreen
			"opacity": 90
		},
		// Important comment(s)
		"NOTE": {
			"icon": "checklist",
			"foreground": "#ffffff",
			"background": "#2ec920", // custom green
			"opacity": 40,
			// TODO: setting not working
			"hideFromTree ": true
		},
		"MSDN": {
			"icon": "info",
			"foreground": "#fff8dc", // Cornsilk
			"background": "#008b8b", // DarkCyan
			"iconColour": "#00bfff", // DeepSkyBlue
			"opacity": 70
		},
		"ALERT": {
			"icon": "alert",
			"foreground": "#000000",
			"background": "#FFD700", // Gold
			"iconColour": "#FFD700", // Gold
			"opacity": 70
		},
		"BUG": {
			"icon": "bug",
			"foreground": "#fff8dc", // Cornsilk
			"background": "#008b8b", // DarkCyan
			"iconColour": "#00bfff", // DeepSkyBlue
			"opacity": 70
		},
		"[ ]": {
			"icon": "markdown",
			"foreground": "#000000",
			"background": "#ffffff",
			"iconColour": "#ffffff",
			"opacity": 90
		},
		"[x]": {
			"icon": "markdown",
			"foreground": "#ffffff",
			"background": "#2ec920", // custom green
			"iconColour": "#2ec920", // custom green
			"opacity": 40,
		}
	},
	"todo-tree.general.tagGroups": {
		"HACK": [
			"HACK",
			"BUG"
		],
		"NOTE": [
			"NOTE",
			"INFO"
		],
		"TODO": [
			"TODO",
			"FIX"
		]
	},
	"[markdown]": {
		"editor.wordWrap": "off",
		"editor.detectIndentation": true,
		"editor.insertSpaces": true
	},
	// override the colors of the default log items:
	// log.constant
	// log.date
	// log.verbose
	// log.debug
	// log.error
	// log.exception
	// log.info
	// log.string
	// log.exceptiontype
	// log.warning
	"editor.tokenColorCustomizations": {
		"textMateRules": [
			{
				"scope": "log.date",
				"settings": {
					"foreground": "#b3aeae",
					//"fontStyle": "bold"
				}
			}
		]
	},
	// Custom highlighting patterns
	// VS colors
	// string D69D85
	// comment 57A64A
	// member func DCDCAA
	// variables C8C8C8
	// user types 1BC9B0
	// enums B8D7A3
	// functions FF8000
	"logFileHighlighter.customPatterns": [
		{
			// Action drop fc3737
			"pattern": "DROP",
			"background": "#990404",
			"foreground": "#ccc3c3"
		},
		{
			// Action allow 066933
			"pattern": "ALLOW",
			"background": "#076338",
			"foreground": "#ccc3c3"
		},
		{
			// TCP protocol
			"pattern": "TCP",
			"foreground": "#57A64A"
		},
		{
			// UDP protocol c4d112 f1a043
			"pattern": "UDP",
			"foreground": "#f1a043"
		},
		{
			// ICMP protocol
			"pattern": "ICMP",
			"foreground": "#d5e40e"
		},
		{
			// Other protocols d37811
			"pattern": "(?<=(DROP|ACCEPT)\\s)\\d{1,3}",
			"foreground": "#b3aeae"
		},
		{
			// IPv4 address 5ca7ee
			"pattern": "([0-9]{1,3}\\.){3}[0-9]{1,3}",
			"foreground": "#5ca7ee"
		},
		{
			// IPv6 address 7dbffd
			"pattern": "(?<!-\\d+)\\s([a-f0-9:]+:)+[a-f0-9]+",
			"foreground": "#1cdfce"
		},
		{
			// Port numbers 1cdfce f17e7e
			"pattern": "\\s[0-9]{1,5}\\s[0-9]{1,5}\\s(?=((\\d+|-)\\s){8})",
			"foreground": "#f17e7e"
		},
		{
			// Details, the rest of line
			"pattern": "\\s((\\d+|-)\\s){8}(?=SEND|RECEIVE)",
			"foreground": "#b3aeae"
		},
		{
			// Direction inbound
			"pattern": "(?<=(\\d|-)\\s)RECEIVE",
			"foreground": "#fc3737"
		},
		{
			// Direction outbound
			"pattern": "(?<=(\\d|-)\\s)SEND",
			"foreground": "#57A64A"
		},
		{
			// Time
			"pattern": "(?<=(-\\d+)\\s)\\d+:\\d+:\\d+",
			"foreground": "#B8D7A3"
		}
	],
	"autoscroll.autoScrollAllOpenedFiles": false,
	"autoscroll.keepLastLineInCenter": true,
	// Local extensions that actually need to run remotely (will appear dimmed and disabled locally)
	// TODO: Doesn't seem to work (if this setting is not on remote?)
	"remote.SSH.defaultExtensions": [
		"ms-vscode.powershell",
		"pejmannikram.vscode-auto-scroll",
		"streetsidesoftware.code-spell-checker",
		"everettjf.filter-line",
		"nachocab.highlight-dodgy-characters",
		"yzhang.markdown-all-in-one",
		"davidanson.vscode-markdownlint",
		"mechatroner.rainbow-csv",
		"gruntfuggly.todo-tree",
		"dotjoshjohnson.xml"
	]
}
